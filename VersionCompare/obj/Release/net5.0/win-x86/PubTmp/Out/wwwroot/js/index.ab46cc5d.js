(function(e){function t(t){for(var o,s,i=t[0],c=t[1],_=t[2],u=0,p=[];u<i.length;u++)s=i[u],a[s]&&p.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,_||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],o=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var o={},a={index:0},n=[];function s(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=o,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var _=0;_<i.length;_++)t(i[_]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("1112")},1112:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var o=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{staticClass:"root"},[r("v-navigation-drawer",{staticClass:"left",attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{"two-line":!0}},[r("v-subheader",{staticClass:"customers-title"},[r("span",[e._v("项目")])]),r("v-list-item-group",{attrs:{color:"primary"},model:{value:e.project,callback:function(t){e.project=t},expression:"project"}},e._l(e.projects,function(t,o){return r("v-list-item",{key:o,attrs:{value:t}},[r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:e._s(t.Name)}})],1)],1)}),1)],1)],1),r("v-app-bar",{staticClass:"top",attrs:{app:"","clipped-left":""}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("v-toolbar-title",[e._v("版本比较")])],1),r("v-main",{attrs:{app:""}},[r("div",{staticClass:"main-container"},[null!=e.project?r("v-card",{attrs:{elevation:8}},[r("v-card-text",[r("v-container",[r("v-row",[r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:e.downloadMore}},[e._v("从代码库下载")]),r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:e.uploadMore}},[e._v("上传到代码库")]),r("v-checkbox",{staticClass:"shrink mr-auto mt-0",attrs:{"hide-details":"",label:"显示项目中没有的代码文件"},model:{value:e.showAll,callback:function(t){e.showAll=t},expression:"showAll"}}),r("v-btn",{attrs:{color:"primary mr-3",small:""},on:{click:function(t){return e.openDirOfProject(e.project)}}},[e._v("打开项目文件夹")]),r("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){return e.refresh()}}},[e._v("刷新")])],1)],1)],1),r("v-expansion-panels",e._l(e.project.CodeRelations,function(t,o){return r("v-expansion-panel",{directives:[{name:"show",rawName:"v-show",value:5!=t.CompareResult||e.showAll,expression:"cr.CompareResult != 5 || showAll"}],key:o},[r("v-expansion-panel-header",[r("div",[r("span",[e._v(e._s(null==t.CodeInProject?t.CodeInStore.Path:t.CodeInProject.Path))]),r("span",{staticClass:"code-filename"},[e._v(e._s(null==t.CodeInProject?t.CodeInStore.FileName:t.CodeInProject.FileName))]),0==t.CompareResult?r("i",{staticClass:"code-icon code-icon-ok fa fa-check-circle",attrs:{"aria-hidden":"true"}}):1==t.CompareResult?r("i",{staticClass:"code-icon code-icon-warning fa fa-download",attrs:{"aria-hidden":"true"}}):2==t.CompareResult?r("i",{staticClass:"code-icon code-icon-warning fa fa-upload",attrs:{"aria-hidden":"true"}}):5==t.CompareResult?r("i",{staticClass:"code-icon fa fa-info-circle"}):r("i",{staticClass:"code-icon code-icon-error fa fa-exclamation-triangle"}),0!=t.CompareResult?r("span",{staticClass:"code-compareresultdes"},[e._v(e._s(t.CompareResultDes))]):e._e()])]),r("v-expansion-panel-content",[r("v-list",[r("v-list-item",[r("v-row",[r("v-col",[e._v("对比结果: "+e._s(t.CompareResultDes))]),null!=t.CodeInProject?r("v-col",[e._v("\n                      项目中的版本号:\n                      "+e._s(t.CodeInProject.Version))]):e._e(),r("v-col",[e._v("代码库中的版本号: "+e._s(t.CodeInStore.Version))])],1)],1),r("v-list-item",[r("span",{staticClass:"mr-3"},[e._v("在代码库的位置: "+e._s(t.CodeInStore.Path))]),5!=t.CompareResult?r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:function(r){return e.compareContent(t)}}},[e._v("对比文件")]):e._e(),5!=t.CompareResult?r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:function(r){return e.openDirOfFile(t.CodeInProject.Path)}}},[e._v("文件在项目中的位置")]):e._e(),r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:function(r){return e.openDirOfFile(t.CodeInStore.Path)}}},[e._v("文件在代码库的位置")]),1==t.CompareResult||3==t.CompareResult||4==t.CompareResult?r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:function(r){return e.download(t)}}},[e._v("从代码库下载")]):e._e(),2==t.CompareResult||3==t.CompareResult?r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",small:""},on:{click:function(r){return e.upload(t)}}},[e._v("上传到代码库")]):e._e()],1)],1)],1)],1)}),1)],1):e._e()],1)]),r("v-footer",{attrs:{app:""}}),r("v-alert",{staticClass:"alert-position",attrs:{type:e.alertType,value:e.alertShow,transition:"scale-transition",dismissible:""}},[e._v(e._s(e.alertMsg))]),r("v-overlay",{attrs:{value:e.loading}},[r("v-progress-circular",{attrs:{size:70,width:7,indeterminate:"",color:"primary"}})],1),r("v-dialog",{attrs:{width:"500"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[r("v-card",[r("v-card-text",[r("i",{staticClass:"fa fa-question-circle dialog-icon",class:[e.dialogType],attrs:{"aria-hidden":"true"}}),r("span",{staticClass:"dialog-text"},[e._v(e._s(e.dialogMsg))])]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"dialog-btn",attrs:{color:"primary"},on:{click:function(t){return e.dialogCommand("cancel")}}},[e._v("取消")]),r("v-btn",{staticClass:"dialog-btn",attrs:{color:"primary"},on:{click:function(t){return e.dialogCommand("ok")}}},[e._v("确定")])],1)],1)],1)],1)},n=[],s=r("795b"),i=r.n(s),c=r("d225"),_=r("b0b4"),l=r("7618"),u=r("cebc"),p=r("bc3a"),d=r.n(p),f=r("e170"),h=r("2396")("./"+f.language+".json"),m=h,v=(r("7f7f"),r("308d")),b=r("6bb5"),g=r("4e2b"),E=r("f28b");function w(e){var t;return e instanceof Error?t=e.message:"string"==typeof e&&(t=e),t}var C=function(e){function t(e){var r;Object(c["a"])(this,t);var o=w(e);return r=Object(v["a"])(this,Object(b["a"])(t).call(this,o)),r.name=r.constructor.name,r}return Object(g["a"])(t,e),t}(Object(E["a"])(Error)),y=function(e){function t(e){var r;Object(c["a"])(this,t);var o=w(e);return r=Object(v["a"])(this,Object(b["a"])(t).call(this,o)),r.name=r.constructor.name,r}return Object(g["a"])(t,e),t}(C),O=function(e){function t(e,r){var o;Object(c["a"])(this,t);var a=w(e);return o=Object(v["a"])(this,Object(b["a"])(t).call(this,a)),o.name=o.constructor.name,o.status=r,o}return Object(g["a"])(t,e),t}(C),j=function(e){function t(e,r){var o;Object(c["a"])(this,t);var a=w(e);return o=Object(v["a"])(this,Object(b["a"])(t).call(this,a)),o.name=o.constructor.name,o.errorCode=r,o}return Object(g["a"])(t,e),t}(C),D=(r("3359"),r("4328")),M=r.n(D),P=f.urlBase[f.language],A=P+f.apiUrl;console.log("api地址:"+A);var k=function(){return{headers:{}}};function x(e){console.log(e)}function R(e,t){return t=Object(u["a"])({},k(),t),new i.a(function(r,o){console.log(A+e),d.a.get(A+e,t).then(function(t){x("get请求："+A+e+"  成功"),x(t.data),t.data.Success?r(t.data.Data):o(V(t.data))}).catch(function(t){x("get请求："+A+e+"  出错"),o(T(t))})})}function I(e,t,r){r=Object(u["a"])({},k(),r);var o="object"!=Object(l["a"])(t)&&null!=t;return o&&(r.headers=Object(u["a"])({},r.headers,{"content-type":"application/x-www-form-urlencoded"})),new i.a(function(a,n){var s=o?M.a.stringify({"":t}):t;d.a.post(A+e,s,r).then(function(r){x("post请求："+A+e+"  成功"),o&&(x("post原始数据:"),x(t)),x("post实际提交数据:"),x(s),x(r.data),r.data.Success?a(r.data.Data):n(V(r.data))}).catch(function(r){x("post请求："+A+e+"  出错"),x(t),n(T(r))})})}function T(e){return e.isAxiosError?null==e.response?new y(m.NetError+(null==e.code?"":" - "+e.code)):new O(null==e.response.data.Message?e.response.data:e.response.data.Message,e.response.status):e}function V(e){var t,r=e.ErrorMessage||(1==e.ErrorType?m.UnkonwError:"");switch(e.ErrorType){case 0:t=new j(r,e.ErrorCode);break;case 1:t=new Error(r);break;case 2:t=new O(r,e.ErrorCode);break;default:t=new Error(r);break}return t}var B=function(){function e(){Object(c["a"])(this,e)}return Object(_["a"])(e,[{key:"urlBase",value:function(){return P}},{key:"apiBase",value:function(){return A}},{key:"log",value:function(e){x(e)}},{key:"get",value:function(e,t){return R(e,t)}},{key:"post",value:function(e,t,r){return I(e,t,r)}}]),e}(),U=new B,L={data:function(){return{showAll:!1,drawer:null,alertShow:!1,alertMsg:"",alertType:"error",alertAutoCloseSeed:null,projects:[],project:null,loading:!1,showDialog:!1,dialogMsg:"",dialogType:"",dialogCommand:null}},components:{},watch:{project:function(e){console.log(e)}},mounted:function(){this.compareAll()},methods:{download:function(e){var t=this;U.post("Download",e).then(function(){t.refresh()}).catch(function(e){t.showError(e.message)})},upload:function(e){var t=this;this.comfirm("确认上传?").then(function(r){"ok"==r&&U.post("Upload",e).then(function(){t.refresh()}).catch(function(e){t.showError(e.message)})})},downloadMore:function(){var e=this,t=this.projects.indexOf(this.project);U.post("DownloadMore",t).then(function(){e.refresh()}).catch(function(t){e.showError(t.message)})},uploadMore:function(){var e=this;this.comfirm("确认上传?").then(function(t){if("ok"==t){var r=e.projects.indexOf(e.project);U.post("UploadMore",r).then(function(){e.refresh()}).catch(function(t){e.showError(t.message)})}})},refresh:function(){var e=this;this.loading=!0;var t=this.projects.indexOf(this.project);U.post("Compare",t).then(function(r){e.projects[t]=r,e.project=r}).catch(function(t){e.showError(t.message)}).finally(function(){e.loading=!1})},compareContent:function(e){var t=this;U.post("StartBeyondCompare",e).then(function(){t.showInfo("正在打开BeyondCompare")}).catch(function(e){t.showError(e.message)})},openDirOfProject:function(e){var t=this,r=this.projects.indexOf(e);U.post("OpenProjectDir",r).then(function(){t.showInfo("正在开文件夹")}).catch(function(e){t.showError(e.message)})},openDirOfFile:function(e){var t=this;U.post("OpenDirOfFile",e).then(function(){t.showInfo("正在开文件夹")}).catch(function(e){t.showError(e.message)})},compareAll:function(){var e=this;this.loading=!0,U.get("CompareAll").then(function(t){e.projects=t,e.loading=!1,e.projects.length>0&&(e.project=e.projects[0])}).catch(function(t){e.showError(t.message)}).finally(function(){e.loading=!1})},showAlert:function(e,t,r){var o=this;clearTimeout(o.alertAutoCloseSeed),o.alertShow=!0,o.alertMsg=e,o.alertType=t,o.alertAutoCloseSeed=setTimeout(function(){o.alertShow=!1},r)},showError:function(e){this.showAlert(e,"error",1e4)},showInfo:function(e){this.showAlert(e,"info",2e3)},comfirm:function(e){var t=this;return new i.a(function(r){t.dialogMsg=e,t.showDialog=!0,t.dialogType="confirm",t.dialogCommand=function(e){t.dialogMsg="",t.showDialog=!1,r(e)}})}}},S=L,K=(r("fffb"),r("2877")),W=r("6544"),q=r.n(W),N=r("0798"),F=r("7496"),$=r("40dc"),H=r("5bc1"),J=r("8336"),z=r("b0af"),G=r("99d9"),Y=r("ac7c"),Q=r("62ad"),X=r("a523"),Z=r("169a"),ee=r("ce7e6"),te=r("cd55"),re=r("49e2"),oe=r("c865"),ae=r("0393"),ne=r("553a"),se=r("8860"),ie=r("da13"),ce=r("5d23"),_e=r("1baa"),le=r("f6c4"),ue=r("f774"),pe=r("a797"),de=r("490a"),fe=r("0fd9"),he=r("2fa4"),me=r("e0c7"),ve=r("2a7f"),be=Object(K["a"])(S,a,n,!1,null,null,null),ge=be.exports;q()(be,{VAlert:N["a"],VApp:F["a"],VAppBar:$["a"],VAppBarNavIcon:H["a"],VBtn:J["a"],VCard:z["a"],VCardActions:G["a"],VCardText:G["b"],VCheckbox:Y["a"],VCol:Q["a"],VContainer:X["a"],VDialog:Z["a"],VDivider:ee["a"],VExpansionPanel:te["a"],VExpansionPanelContent:re["a"],VExpansionPanelHeader:oe["a"],VExpansionPanels:ae["a"],VFooter:ne["a"],VList:se["a"],VListItem:ie["a"],VListItemContent:ce["a"],VListItemGroup:_e["a"],VListItemTitle:ce["b"],VMain:le["a"],VNavigationDrawer:ue["a"],VOverlay:pe["a"],VProgressCircular:de["a"],VRow:fe["a"],VSpacer:he["a"],VSubheader:me["a"],VToolbarTitle:ve["a"]});r("6672");var Ee=r("f309");o["a"].use(Ee["a"]);var we=new Ee["a"]({});r("50d5");o["a"].mixin({data:function(){return{lang:m}}}),new o["a"]({vuetify:we,render:function(e){return e(ge)}}).$mount("#app")},2396:function(e,t,r){var o={"./chinese.json":"3c6a"};function a(e){var t=n(e);return r(t)}function n(e){var t=o[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id="2396"},3359:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3b2b"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__),F_AddunionSVN_VersionCompare_Vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("795b"),F_AddunionSVN_VersionCompare_Vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(F_AddunionSVN_VersionCompare_Vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("f751"),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_8__);(function(){Array.prototype.find||(Array.prototype.find=function(e){for(var t=0;t<this.length;t++)if(!0===e.call(this,this[t],t,this))return this[t];return null}),Array.prototype.exists||(Array.prototype.exists=function(e){return null!=this.find(e)}),Array.prototype.findAll||(Array.prototype.findAll=function(e){for(var t=[],r=0;r<this.length;r++)!0===e.call(this,this[r],r,this)&&t.push(this[r]);return t}),Array.prototype.remove||(Array.prototype.remove=function(e){for(var t=0;t<this.length;t++)if(!0===e.call(this,this[t],t,this)){this.splice(t--,1);break}}),Array.prototype.removeAll||(Array.prototype.removeAll=function(){this.splice(0,this.length)}),Array.prototype.forEach||(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.call(this,this[t],t,this)}),Array.prototype.clear||(Array.prototype.clear=function(){this.length=0}),Array.prototype.sum||(Array.prototype.sum=function(e){for(var t=0,r=0;r<this.length;r++)t+=e.call(this,this[r],r,this);return t}),Array.prototype.select||(Array.prototype.select=function(e){for(var t=[],r=0;r<this.length;r++)t.push(e.call(this,this[r],r,this));return t}),String.prototype.splice=function(e,t){return this.slice(0,e)+t+this.slice(e)},F_AddunionSVN_VersionCompare_Vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default.a.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},r={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+r[this.getDay()+""])),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e},Date.convertFromDotNet=function(dateStr){dateStr=dateStr.replace(/\//g,"");var date=eval(dateStr);return new Date(date)}})()},"3c6a":function(e){e.exports={UnkonwError:"未知错误",NetError:"网络错误"}},6672:function(e,t,r){},e170:function(e){e.exports={urlBase:{test:"http://localhost:6542/",chinese:"http://localhost:6542/"},apiUrl:"VersionCompare/",language:"chinese"}},ea89:function(e,t,r){},fffb:function(e,t,r){"use strict";var o=r("ea89"),a=r.n(o);a.a}});